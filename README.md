# fe-taskify

## 카드 추가

- [x] 플러스 버튼 클릭 시 새로운 할 일 카드 추가
- [x] 플러스 버튼 다시 클릭 시 새로운 할 일 카드 제거
- [x] 취소 버튼 클릭 시 새로운 할 일 카드 제거
- [x] 등록 버튼 클릭 시 입력한 새로운 할 일 DOM에 반영
- [x] 제목, 내용 모두 입력 시 활성화
- [x] 여러 줄 입력을 위해 textarea 사용
- [x] 내용의 최대 길이 500자
- [x] 글이 입력될 때 스크롤되는 게 아니라 화면 높이가 달라지도록 구현
- [x] 줄바꿈한 내용까지 화면에 그대로 출력
- [x] 터치 이벤트를 감지하여 web/mobile 구분하여 user agent 판단

### 추가 개발 사항

- 공통된 부분을 컴포넌트화 시켜서 분리하기
  - ColumnSection
- 공통되지 않더라도 관심사별로 분리하기
  - Header
- 컴포넌트 역할별로 분리하고 중복되는 요소 공용화
- 데이터를 여러 컴포넌트에서 공유하기 위해 객체를 넘겨 값을 변환
- 각 컴포넌트에서 UI 그리는 함수와 이벤트핸들러 분리
- 각각의 컴포넌트 별로 css 분리

## 카드 삭제

- 칼럼 타이틀
  - [x] 칼럼 타이틀의 X 버튼 hover 시 버튼이 빨간색으로 변경
  - [ ] 칼럼 타이틀의 X 버튼 클릭 시 칼럼 삭제 (선택 구현)

- 카드의 X 버튼
  - [x] 카드의 X 버튼 hover 시 버튼이 빨간색으로 변경
  - [x] 카드가 X 버튼 클릭 시 카드 삭제 모달창 띄움
  - [x] 취소 버튼 클릭 시 모달 닫기
  - [x] 삭제 버튼 클릭 시 모달 닫기 & 해당 카드 삭제

## 카드 수정

- [x] 수정 버튼 클릭 시 모달 UI가 뜨고 입력 가능한 인풋 박스로 전환
- [x] 저장 버튼 클릭 시 수정된 데이터 DOM에 반영
- [x] 로컬 스토리지도 갱신하여 새로고침해도 수정된 데이터로 렌더링
- [x] 저장 후 다시 수정 버튼을 눌렀을 때 수정된 데이터가 모달에 렌더링

## 카드 이동

- 드래그 앤 드롭
  - [x] 같은 칼럼 내에서 위아래로 이동
  - [x] 다른 칼럼으로 이동
  - [x] 원래 카드가 있던 자리에 잔상 남음
  - [x] 이동 경로의 절반 -> 카드 예정 목적지로 카드의 잔상이 먼저 이동
  - [x] 드래그 중단 -> 카드는 잔상이 있던 위치로 이동하며 잔상은 사라짐
  - [x] 드래그 한 후 칼럼 개수 동기화


## 카드 정렬

- 정렬 방식
  - [x] 정렬을 위해 할 일을 생성할 때 생성한 날짜 데이터 저장
  - [x] 생성 순, 최신 순 정렬 기능 구현
  - [x] 정렬 방식이 전환될 때 할 일 카드들이 정렬되면서 애니메이션 적용

## 메뉴(활동 기록)

- [ ] 히스토리 버튼을 누르면 애니메이션 효과와 함께 레이어가 오른쪽에서 왼쪽으로 나타남
- [ ] 닫기 버튼을 누르면 레이어를 다시 오른쪽으로 숨김

- 활동 기록
  - [ ] 위에서부터 최신순 액션 (등록, 삭제, 변경, 이동)
  - [ ] 액션이 발생할 때마다 기록에 추가
    - 등록: HTML/CSS 공부하기을(를) 해야할 일에서 등록였습니다. (제목, 칼럼명, 액션)
    - 삭제:HTML/CSS 공부하기을(를) 삭제하였습니다. (제목, 액션)
    - 변경: GitHub 공부하기을(를) 변경하였습니다. (제목, 액션)
    - 이동: HTML/CSS 공부하기을(를) 해야할 일에서 하고 있는 일으로 이동였습니다. (제목, 이전 칼럼명, 수정 칼럼명, 액션)
  - [ ] 액션 시간(필수), 사용자 이름(선택), 프로필 사진(선택)
  - [ ] 액션의 중요 키워드는 볼드체 설정 (제목, 액션)
- [ ] 기록이 많아지면 스크롤
- [ ] 기록 전체 삭제 버튼을 누르면 삭제 모달창
  - [ ] 삭제 모달의 삭제 버튼을 누르면 즉시 모든 사용자 활동 내역 삭제


## 어려웠던 점

- 공통된 요소 제거
  - 중복되는 요소를 동적으로 생성하여 공용화하였고, 하나씩 맵핑시켜줘야했던 이벤트 리스너를 함수 내에서 독립적으로 실행할 수 있었습니다.
- 전역 변수 제거
  - 전역 변수처럼 쓰고 있지만 좀더 스코프를 좁혀 각각의 ColumnSection에서만 동작하도록 하였습니다. 이를 통해 칼럼마다 추가 여부 상태를 가질 수 있게 되었습니다.
- 이벤트 타겟 요소 찾기
  - 이벤트를 달기 위해 요소를 찾는 것이 번거로웠습니다. 요소를 찾기 위해 id, class, dataset 등을 이용하였는데, 리액트를 사용할 때는 이벤트를 달기 위해 id, class, dataset을 단 적이 없었습니다. 추후 리액트는 어떻게 이벤트를 등록하는지 알아보려고 합니다.


## 코멘트 모음

- 함수단위 Good
  - 함수의 범용성 올리기 -> 파라미터 적극적으로 활용
- index 파일 분리 고려
- 전역변수는 어쩔수 없는 상황에서는 둘 수 있고, ESM방식에서는 모듈 스코프로 보호됨
- CSS 중복 제거 Good
  - 더 분리해서 중복 제거 가능할 듯
- 공통부분을 변수화 + 변수명 줄여도 될 듯
- && 연산자를 이용해 반환값에 영향이 없다면 옵셔널 체이닝 사용
- querySelector를 메서드 체이닝 하지 않고 한번에 찾기
- 매직 넘버 상수화
- appendChild를 반복적으로 처리하는 것을 모아서 한번에 처리